<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>N64 Core - Optimized</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background-color: #000; }
        #game { width: 100%; height: 100%; }
    </style>
</head>
<body>
    <div id="game"></div>

    <script>
        // Extract the ROM URL from the address bar
        const urlParams = new URLSearchParams(window.location.search);
        const romPath = urlParams.get('rom');

        // Optimization Variables
        EJS_player = '#game';
        EJS_core = 'n64'; 
        EJS_gameUrl = romPath;
        
        // Using a high-speed CDN for the emulator engine
        EJS_pathtodata = 'https://cdn.jsdelivr.net/gh/linuxguist/emulatorjs@main/data/';
        
        // Performance Tweaks (The "Coefficients" of Speed)
        EJS_Settings = {
            low_res: true,       // Reduces pixel load for smoother frame rates
            threads: true,       // Uses multiple CPU cores if available
            startOnLoaded: true, // Reduces wait time
            quality: 'low'       // Prioritizes FPS over anti-aliasing
        };
    </script>
    <script src="https://cdn.jsdelivr.net/gh/linuxguist/emulatorjs@main/data/loader.js"></script>
</body>
</html>